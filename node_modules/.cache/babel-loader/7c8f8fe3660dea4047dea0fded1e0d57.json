{"ast":null,"code":"import _defineProperty from \"/Users/gautamverma/Desktop/react restau/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Users/gautamverma/Desktop/react restau/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/gautamverma/Desktop/react restau/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/gautamverma/Desktop/react restau/src/Routes/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { AppContext } from \"../Context/AppContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar userLogin = function userLogin(_ref) {\n  var newEmail = _ref.newEmail,\n    newPass = _ref.newPass;\n  console.log(email, password);\n  return fetch(\"https://reqres.in/api/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      newEmail: newEmail,\n      newPass: newPass\n    })\n  });\n};\nfunction Login() {\n  _s();\n  var _useState = useState({\n      email: \"\",\n      password: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    details = _useState2[0],\n    setDetails = _useState2[1];\n  var _useContext = useContext(AppContext),\n    isAuth = _useContext.isAuth,\n    token = _useContext.token,\n    loginUser = _useContext.loginUser,\n    logoutUser = _useContext.logoutUser;\n  var handleChange = function handleChange(e) {\n    console.log(e.target.value);\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n    setDetails(_objectSpread(_objectSpread({}, details), {}, _defineProperty({}, name, value)));\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var newEmail = details.email;\n    var newPass = details.password;\n    console.log(newEmail, newPass);\n    userLogin({\n      newEmail: newEmail,\n      newPass: newPass\n    }).then(function (res) {\n      return res.json;\n    }).then(function (res) {\n      console.log(res);\n      loginUser(res.token);\n      logoutUser();\n    }).catch(function (err) {\n      console.log(err);\n    });\n    setDetails({\n      email: \"\",\n      password: \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      \"data-testid\": \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            value: details.email,\n            onChange: handleChange,\n            \"data-testid\": \"email-input\",\n            type: \"email\",\n            placeholder: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            value: details.password,\n            onChange: handleChange,\n            \"data-testid\": \"password-input\",\n            type: \"password\",\n            placeholder: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"form-submit\",\n          type: \"submit\",\n          value: \"SUBMIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"5UG42csopOQA7IYaaow2tGexTLw=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","Link","useContext","Navigate","AppContext","userLogin","newEmail","newPass","console","log","email","password","fetch","method","headers","body","JSON","stringify","Login","details","setDetails","isAuth","token","loginUser","logoutUser","handleChange","e","target","value","name","handleSubmit","preventDefault","then","res","json","catch","err"],"sources":["/Users/gautamverma/Desktop/react restau/src/Routes/Login.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { AppContext } from \"../Context/AppContext\";\n\n\nconst userLogin = ({\n  newEmail,\n  newPass\n}) => {\n\n  console.log(email,password);\n  return fetch(\"https://reqres.in/api/login\",\n    {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        newEmail,\n        newPass\n      })\n    }\n  )\n}\n\nfunction Login() {\n  const [details, setDetails] = useState({\n    email: \"\",\n    password: \"\"\n  })\n\n  const { isAuth, token, loginUser, logoutUser } = useContext(AppContext)\n\n\n\n  const handleChange = (e) => {\n    console.log(e.target.value);\n\n    const { name, value } = e.target\n    setDetails(\n      {\n        ...details,\n        [name]: value\n      }\n    )\n\n  }\n \n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const newEmail = details.email\n    const newPass = details.password\n    console.log(newEmail,newPass);\n\n    userLogin({ newEmail, newPass }).then((res) => res.json).then((res) => {\n      console.log(res);\n      loginUser(res.token)\n      logoutUser()\n\n    }).catch((err) => {\n      console.log(err);\n    })\n    setDetails({\n      email: \"\",\n      password: \"\"\n    })\n  }\n  return (\n    <div>\n      <form onSubmit={handleSubmit} data-testid=\"login-form\">\n        <div>\n          <label>\n            Email\n            <input name=\"email\"\n              value={details.email}\n              onChange={handleChange}\n              data-testid=\"email-input\"\n              type=\"email\"\n              placeholder=\"email\" />\n          </label>\n        </div>\n        <div>\n          <label>\n            Password\n            <input\n              name=\"password\"\n              value={details.password}\n              onChange={handleChange}\n              data-testid=\"password-input\"\n              type=\"password\"\n              placeholder=\"password\"\n            />\n          </label>\n        </div>\n        <div>\n          <input data-testid=\"form-submit\" type=\"submit\" value=\"SUBMIT\" />\n        </div>\n      </form>\n      <div>\n        <Link to=\"/\">Go Back</Link>\n      </div>\n    </div>\n  );\n}\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}